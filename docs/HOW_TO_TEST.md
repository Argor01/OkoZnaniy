# Как протестировать изменения

## Текущее состояние

✅ **Frontend dev-сервер запущен:** http://localhost:5173/
✅ **Backend API запущен:** http://localhost:8000/
✅ **Изменения применены в коде**

## Что изменилось

Теперь **все пользователи** (клиенты и эксперты) после авторизации попадают на **ExpertDashboard** (`/expert`) с крутым сайдбаром.

## Шаги для тестирования

### 1. Откройте браузер
Перейдите на: **http://localhost:5173/**

### 2. Авторизуйтесь как клиент

1. Нажмите "Войти" или перейдите на `/login`
2. Введите данные клиента:
   - Email: ваш email клиента
   - Пароль: ваш пароль
3. Нажмите "Войти"

### 3. Проверьте результат

**Ожидаемое поведение:**
- ✅ Вы перенаправлены на `/expert`
- ✅ Открывается ExpertDashboard с крутым сайдбаром слева
- ✅ В сайдбаре видны:
  - Профиль с аватаром
  - Сообщения
  - Уведомления
  - Арбитраж
  - Счет (с балансом)
  - Мои заказы (с подменю)
  - Мои работы
  - Авторский магазин
  - Мои друзья
  - Избранное
  - Бонусы
  - FAQ
  - Выйти

### 4. Проверьте навигацию

1. **Нажмите на разные пункты меню** в сайдбаре
2. **Проверьте, что сайдбар остается** при переходе между страницами
3. **Попробуйте свернуть сайдбар** (кнопка внизу)

### 5. Проверьте данные из БД

В сайдбаре должны отображаться:
- ✅ Ваше имя пользователя (из БД)
- ✅ Ваш аватар (если загружен)
- ✅ Реальный баланс (из поля `User.balance`)
- ✅ Количество заказов по статусам

## Если что-то не работает

### Проблема: Открывается старая версия

**Решение:**
1. Очистите кэш браузера (Ctrl+Shift+Delete)
2. Сделайте Hard Reload (Ctrl+Shift+R или Ctrl+F5)
3. Откройте в режиме инкогнито

### Проблема: Ошибка 404 или белый экран

**Решение:**
1. Проверьте, что dev-сервер запущен: http://localhost:5173/
2. Проверьте консоль браузера (F12) на ошибки
3. Проверьте, что бэкенд запущен: http://localhost:8000/api/

### Проблема: Не загружаются данные

**Решение:**
1. Откройте DevTools (F12) → Network
2. Проверьте, что запросы к API выполняются успешно
3. Проверьте, что токен авторизации есть в localStorage
4. Проверьте, что бэкенд возвращает данные

### Проблема: Все еще открывается ClientDashboard

**Решение:**
1. Убедитесь, что вы перезагрузили страницу после запуска dev-сервера
2. Очистите кэш браузера
3. Проверьте URL - должен быть `/expert`, а не `/dashboard`
4. Если открывается `/dashboard`, он должен автоматически перенаправить на `/expert`

## Проверка в консоли браузера

Откройте консоль (F12) и выполните:

```javascript
// Проверить текущий URL
console.log(window.location.pathname);
// Должно быть: /expert

// Проверить токен авторизации
console.log(localStorage.getItem('access_token'));
// Должен быть токен

// Проверить данные пользователя
fetch('http://localhost:8000/api/users/me/', {
  headers: {
    'Authorization': `Bearer ${localStorage.getItem('access_token')}`
  }
})
.then(r => r.json())
.then(console.log);
// Должны вернуться данные пользователя
```

## Что должно работать

✅ Авторизация клиента → `/expert`
✅ Авторизация эксперта → `/expert`
✅ Переход на `/dashboard` → редирект на `/expert`
✅ Сайдбар с полным функционалом
✅ Данные из БД (имя, аватар, баланс)
✅ Навигация между страницами
✅ Сворачивание/разворачивание сайдбара

## Дополнительно

### Проверка разных ролей

1. **Клиент:** должен видеть ExpertDashboard
2. **Эксперт:** должен видеть ExpertDashboard
3. **Партнер:** перенаправляется на `/partner`
4. **Админ:** перенаправляется на `/admin`

### Проверка на мобильных устройствах

1. Откройте DevTools (F12)
2. Включите режим устройства (Ctrl+Shift+M)
3. Выберите мобильное устройство
4. Проверьте, что сайдбар адаптируется

## Контакты для помощи

Если возникли проблемы:
1. Проверьте логи в консоли браузера (F12)
2. Проверьте логи dev-сервера в терминале
3. Проверьте логи бэкенда
