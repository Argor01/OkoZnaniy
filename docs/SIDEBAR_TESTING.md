# Инструкция по тестированию сайдбара

## Что проверить

### 1. Авторизация клиента

1. Зайдите на страницу `/login`
2. Войдите как клиент
3. **Ожидаемый результат:**
   - Вы перенаправлены на `/expert`
   - Отображается ExpertDashboard со своим расширенным сайдбаром

### 2. Авторизация эксперта

1. Зайдите на страницу `/login`
2. Войдите как эксперт
3. **Ожидаемый результат:**
   - Вы перенаправлены на `/expert`
   - ExpertDashboard имеет свой собственный расширенный сайдбар

### 3. Навигация

После авторизации:

1. Нажмите "Создать заказ" в сайдбаре
   - **Ожидается:** переход на `/create-order` с DashboardLayout
2. Нажмите на логотип или "Дашборд"
   - **Ожидается:** переход на `/expert` с ExpertDashboard
3. Нажмите "FAQ"
   - **Ожидается:** открытие модального окна FAQ (пока не реализовано)

### 4. Данные из БД

Проверьте, что сайдбар показывает реальные данные:

1. **Профиль пользователя:**
   - Имя пользователя (из БД)
   - Аватар (если загружен)
   - Роль (Клиент/Эксперт)

2. **Баланс (для экспертов):**
   - Должен показывать реальный баланс из поля `User.balance`

3. **Статистика заказов (для экспертов):**
   - Количество заказов по статусам должно соответствовать реальным данным

### 5. Сворачивание сайдбара

1. Нажмите на кнопку сворачивания внизу сайдбара
   - **Ожидается:** сайдбар сворачивается, показываются только иконки
2. Нажмите еще раз
   - **Ожидается:** сайдбар разворачивается обратно

### 6. Выход из системы

1. Нажмите "Выйти" в сайдбаре
   - **Ожидается:** модальное окно подтверждения
2. Подтвердите выход
   - **Ожидается:** перенаправление на главную страницу, токены удалены

## Известные ограничения

- Пункты меню "Сообщения", "Уведомления", "Арбитраж", "Мои друзья", "Избранное", "Бонусы" пока не имеют функционала (будут добавлены позже)
- FAQ открывает модальное окно (не реализовано)
- Счетчики непрочитанных сообщений и уведомлений пока не работают

## Проверка на разных устройствах

### Десктоп (> 840px)
- Сайдбар должен быть виден слева
- Контент справа

### Мобильные (< 840px)
- Сайдбар должен адаптироваться
- Возможность сворачивания/разворачивания

## Проверка API запросов

Откройте DevTools → Network и проверьте:

1. **При загрузке страницы:**
   - `GET /api/users/me/` - получение профиля
   - `GET /api/orders/client/` или `/api/orders/my/` - получение заказов

2. **Данные должны приходить из БД:**
   - username, email, role, avatar, balance
   - Список заказов с их статусами

## Что делать при ошибках

### Сайдбар не отображается
- Проверьте, что вы авторизованы
- Проверьте консоль браузера на ошибки
- Проверьте, что страница обернута в `DashboardLayout` в `App.tsx`

### Данные не загружаются
- Проверьте Network в DevTools
- Убедитесь, что API возвращает данные
- Проверьте токены авторизации в localStorage

### Сайдбар показывается на неправильных страницах
- Проверьте роутинг в `App.tsx`
- Убедитесь, что `DashboardLayout` применен только к защищенным маршрутам
