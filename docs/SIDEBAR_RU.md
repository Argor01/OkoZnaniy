# Универсальный сайдбар для авторизованных пользователей

## Описание

Реализован универсальный сайдбар, который автоматически отображается для всех авторизованных пользователей (клиентов и экспертов). Сайдбар получает все данные из базы данных и адаптируется под роль пользователя.

## Основные возможности

### 1. Профиль пользователя
- Аватар (из БД)
- Имя пользователя
- Роль (Клиент/Эксперт)
- Статус онлайн

### 2. Меню для клиентов
- **Мои заказы** - переход в личный кабинет
- **Создать заказ** - форма создания нового заказа
- **FAQ** - часто задаваемые вопросы
- **Выйти** - выход из системы

### 3. Меню для экспертов
- **Дашборд эксперта** - главная страница эксперта
- **Сообщения** - чат с клиентами
- **Уведомления** - системные уведомления
- **Арбитраж** - споры и претензии
- **Счет** - баланс (данные из БД)
- **Мои работы** - список выполненных работ
- **Авторский магазин**:
  - Магазин готовых работ
  - Добавить работу
  - Мои работы
  - Купленные работы
- **Мои друзья** - список друзей
- **Избранное** - избранные заказы/работы
- **Бонусы** - бонусная программа
- **Платные услуги** - дополнительные услуги
- **FAQ** - часто задаваемые вопросы
- **Выйти** - выход из системы

## Данные из базы данных

Сайдбар автоматически загружает:

1. **Профиль пользователя**:
   - `username` - имя пользователя
   - `email` - электронная почта
   - `role` - роль (client/expert)
   - `avatar` - аватар пользователя
   - `balance` - текущий баланс

2. **Статистика заказов**:
   - Общее количество заказов
   - Количество по каждому статусу:
     - Новые
     - На подтверждении
     - В работе
     - Ожидает оплаты
     - На проверке
     - Завершенные
     - На доработке
     - Ожидает скачивания
     - Закрытые

## Технические детали

### Компоненты
- `DashboardLayout.tsx` - основной компонент
- `DashboardLayout.module.css` - стили

### API запросы
```typescript
// Получение профиля
authApi.getCurrentUser()

// Получение заказов клиента
ordersApi.getClientOrders()

// Получение заказов эксперта
ordersApi.getMyOrders({})
```

### Использование в коде

Layout применяется на уровне роутинга в `App.tsx`:

```tsx
<Route 
  path="/your-page" 
  element={
    <ProtectedRoute>
      <DashboardLayout>
        <YourPage />
      </DashboardLayout>
    </ProtectedRoute>
  } 
/>
```

Каждая страница управляет своим собственным padding и стилями.

## Интегрированные страницы

✅ `/expert` - Главный дашборд (для всех пользователей)
✅ `/create-order` - Создание заказа
✅ `/shop/ready-works` - Магазин готовых работ
✅ `/shop/add-work` - Добавление работы
✅ `/works` - Мои работы
✅ `/shop/purchased` - Купленные работы

**Примечание:** 
- Все пользователи (клиенты и эксперты) используют ExpertDashboard
- ExpertDashboard имеет свой собственный расширенный layout с сайдбаром
- ClientDashboard удален, `/dashboard` перенаправляет на `/expert`

## Функции

### Сворачивание сайдбара
Сайдбар можно свернуть/развернуть кнопкой внизу. В свернутом состоянии показываются только иконки.

### Автоматическое определение роли
Сайдбар автоматически определяет роль пользователя и показывает соответствующее меню.

### Подсветка активного пункта
Текущая страница автоматически подсвечивается в меню.

### Выход из системы
При нажатии "Выйти" показывается модальное окно подтверждения.

## Планы на будущее

- [ ] Добавить счетчики непрочитанных сообщений
- [ ] Добавить счетчики уведомлений
- [ ] Реализовать модальные окна для сообщений и уведомлений
- [ ] Добавить раздел "Мои друзья"
- [ ] Добавить раздел "Избранное"
- [ ] Интегрировать в остальные страницы
