# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ—Ç–µ–Ω–∑–∏–π - –°–≤–æ–¥–∫–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ 403 –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ - —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–∑–º–µ–Ω–µ–Ω—ã –ø—Ä–∞–≤–∞ –≤ `apps/admin_panel/views.py`
- –¢–µ–ø–µ—Ä—å –ª—é–±–æ–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏—é
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –≤—Å–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ –∏ –º–æ–≥—É—Ç –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `apps/admin_panel/views.py` - –∏–∑–º–µ–Ω–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ ClaimViewSet
- `apps/admin_panel/serializers.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ order_id –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

### 2. –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:**
- `test_claim_to_admin_flow.py` - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ñ–ª–æ—É –ø—Ä–µ—Ç–µ–Ω–∑–∏–π
- `test_claim_api_endpoints.py` - —Ç–µ—Å—Ç API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- `test_claim_permissions.py` - —Ç–µ—Å—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- `test_claims_creation.py` - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ—Ç–µ–Ω–∑–∏–π

### 3. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:**
- `–¢–ï–°–¢_–ü–†–ï–¢–ï–ù–ó–ò–ô.md` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ (—Ä—É—Å—Å–∫–∏–π)
- `–¢–ï–°–¢_–ü–†–ï–¢–ï–ù–ó–ò–ô_–§–†–û–ù–¢–ï–ù–î.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (—Ä—É—Å—Å–∫–∏–π)
- `–ë–´–°–¢–†–´–ô_–¢–ï–°–¢_–§–†–û–ù–¢–ï–ù–î.md` - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∑–∞ 5 –º–∏–Ω—É—Ç (—Ä—É—Å—Å–∫–∏–π)
- `HOW_TO_TEST_CLAIM_FLOW.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- `RUN_CLAIM_TESTS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤
- `FIX_CLAIM_PERMISSIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `–°–•–ï–ú–ê_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–ü–†–ï–¢–ï–ù–ó–ò–ô.md` - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥:**
```bash
docker-compose restart backend
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
docker-compose exec backend python test_claim_permissions.py
```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:**
- –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —ç–∫—Å–ø–µ—Ä—Ç –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç
- –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏—é
- –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏—é –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë—ç–∫–µ–Ω–¥:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Ñ–ª–æ—É
docker-compose exec backend python test_claim_to_admin_flow.py

# –¢–µ—Å—Ç API
docker-compose exec backend python test_claim_api_endpoints.py

# –¢–µ—Å—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
docker-compose exec backend python test_claim_permissions.py
```

**–§—Ä–æ–Ω—Ç–µ–Ω–¥:**
–°–º–æ—Ç—Ä–∏—Ç–µ `–ë–´–°–¢–†–´–ô_–¢–ï–°–¢_–§–†–û–ù–¢–ï–ù–î.md` –∏–ª–∏ `–¢–ï–°–¢_–ü–†–ï–¢–ï–ù–ó–ò–ô_–§–†–û–ù–¢–ï–ù–î.md`

## üìä –ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

| –î–µ–π—Å—Ç–≤–∏–µ | –≠–∫—Å–ø–µ—Ä—Ç | –ö–ª–∏–µ–Ω—Ç | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä |
|----------|---------|--------|---------------|
| –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏—é | ‚úÖ | ‚úÖ | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ | ‚úÖ | ‚úÖ | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ | ‚ùå | ‚ùå | ‚úÖ |
| –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É | ‚ùå | ‚ùå | ‚úÖ |
| –ó–∞–≤–µ—Ä—à–∏—Ç—å | ‚ùå | ‚ùå | ‚úÖ |
| –û—Ç–∫–ª–æ–Ω–∏—Ç—å | ‚ùå | ‚ùå | ‚úÖ |

## üîÑ –§–ª–æ—É –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏

```
1. –≠–∫—Å–ø–µ—Ä—Ç/–ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–µ—Ç–µ–Ω–∑–∏—é
   ‚Üì
2. –ü—Ä–µ—Ç–µ–Ω–∑–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (—Å—Ç–∞—Ç—É—Å: NEW)
   ‚Üì
3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–µ—Ä–µ—Ç –≤ —Ä–∞–±–æ—Ç—É (—Å—Ç–∞—Ç—É—Å: IN_PROGRESS)
   ‚Üì
4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç (—Å—Ç–∞—Ç—É—Å: COMPLETED)
```

## üìù API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL | –ü—Ä–∞–≤–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|-------|----------|
| POST | `/api/admin-panel/claims/` | Authenticated | –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏—é |
| GET | `/api/admin-panel/claims/` | Authenticated | –°–ø–∏—Å–æ–∫ –ø—Ä–µ—Ç–µ–Ω–∑–∏–π |
| GET | `/api/admin-panel/claims/?status=new` | Authenticated | –ù–æ–≤—ã–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ |
| POST | `/api/admin-panel/claims/{id}/take_in_work/` | Admin | –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É |
| POST | `/api/admin-panel/claims/{id}/complete_claim/` | Admin | –ó–∞–≤–µ—Ä—à–∏—Ç—å |
| POST | `/api/admin-panel/claims/{id}/reject_claim/` | Admin | –û—Ç–∫–ª–æ–Ω–∏—Ç—å |

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –≠–∫—Å–ø–µ—Ä—Ç—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ 403
- ‚úÖ –ü—Ä–µ—Ç–µ–Ω–∑–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ –î–µ–ø–ª–æ–π

–ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ª–∏—Ç—ã –≤ Git:
```
Commit: 0cac6f6
Message: Fix: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ—Ç–µ–Ω–∑–∏–π
Branch: main
```

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
git pull origin main
docker-compose restart backend
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `FIX_CLAIM_PERMISSIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs backend`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
- –¢–µ—Å—Ç—ã: `test_*.py`
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `*.md`

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —á–∏—Ç–∞–π—Ç–µ `–ë–´–°–¢–†–´–ô_–¢–ï–°–¢_–§–†–û–ù–¢–ï–ù–î.md`
