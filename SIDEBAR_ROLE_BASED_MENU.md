# Настройка меню сайдбара по ролям

## Что изменено

Теперь пункты меню в сайдбаре отображаются в зависимости от роли пользователя.

## Скрытые пункты для клиентов

Следующие пункты меню **скрыты для клиентов** и видны только экспертам:

### 1. "Мои работы"
- **Иконка**: FileDoneOutlined
- **Путь**: `/works`
- **Причина**: Клиенты не создают работы, это функционал экспертов

### 2. "Авторский магазин" (и все подпункты)
- **Иконка**: ShopOutlined
- **Подпункты**:
  - Магазин готовых работ (`/shop/ready-works`)
  - Добавить работу в магазин (`/shop/add-work`)
  - Купленные работы (`/shop/purchased`)
- **Причина**: Магазин предназначен для экспертов, которые продают готовые работы

## Видимые для всех пункты

Эти пункты видны и клиентам, и экспертам:

- ✅ Аккаунт
- ✅ Сообщения
- ✅ Уведомления
- ✅ Арбитраж
- ✅ Счет
- ✅ Мои заказы
- ✅ Лента работ
- ✅ Мои друзья
- ✅ FAQ
- ✅ Выйти

## Логика определения роли

```typescript
const isExpert = userProfile?.role === 'expert';
const isClient = userProfile?.role === 'client';
```

## Пример использования

```typescript
// "Мои работы" - только для экспертов
isExpert ? {
  key: 'works',
  icon: <FileDoneOutlined />,
  label: 'Мои работы',
} : null,

// "Авторский магазин" - только для экспертов
(isExpert && !isMobile) ? {
  key: 'shop',
  icon: <ShopOutlined />,
  label: 'Авторский магазин',
  children: [
    { key: 'shop-ready-works', label: 'Магазин готовых работ' },
    { key: 'shop-add-work', label: 'Добавить работу в магазин' },
    { key: 'shop-purchased', label: 'Купленные работы' },
  ],
} : null,
```

## Результат

### Для клиента (role: 'client')
```
✅ Аккаунт
✅ Сообщения
✅ Уведомления
✅ Арбитраж
✅ Счет
✅ Мои заказы
✅ Лента работ
❌ Мои работы (скрыто)
❌ Авторский магазин (скрыто)
✅ Мои друзья
✅ FAQ
✅ Выйти
```

### Для эксперта (role: 'expert')
```
✅ Аккаунт
✅ Сообщения
✅ Уведомления
✅ Арбитраж
✅ Счет
✅ Мои заказы
✅ Лента работ
✅ Мои работы
✅ Авторский магазин
  ├─ Магазин готовых работ
  ├─ Добавить работу в магазин
  └─ Купленные работы
✅ Мои друзья
✅ FAQ
✅ Выйти
```

## Файлы изменены

- `frontend-react/src/components/layout/Sidebar.tsx`

## Коммит

```
feat: Hide expert-only menu items for clients

- Hide 'Мои работы' for non-experts
- Hide 'Авторский магазин' for non-experts
- Add role-based menu visibility logic

Commit: 5d11210
```

## Деплой

Для применения изменений на сервере:

```bash
ssh root@okoznaniy.ru
cd /root/OkoZnaniy
./update-and-restart.sh
```

После деплоя:
1. Очистите кеш браузера (Ctrl+Shift+Delete)
2. Перезагрузите страницу (Ctrl+F5)
3. Войдите как клиент - не увидите "Мои работы" и "Авторский магазин"
4. Войдите как эксперт - увидите все пункты меню
