# ‚úÖ Telegram –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ì–û–¢–û–í–û!

## üéâ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ –¥–ª—è –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã OkoZnaniy.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

–û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram:

```
/setdomain
@oko_expert_bot
localhost
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (1 –º–∏–Ω—É—Ç–∞)

```bash
docker-compose up -d
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É (2 –º–∏–Ω—É—Ç—ã)

```tsx
import TelegramLoginButton from '../components/auth/TelegramLoginButton';

<TelegramLoginButton
  botName="oko_expert_bot"
  onAuth={(user) => navigate('/dashboard')}
/>
```

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Telegram –≤ 1 –∫–ª–∏–∫!

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –î–ª—è –∫–æ–≥–æ | –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è |
|------|----------|--------------|
| [START_TELEGRAM_AUTH.md](./START_TELEGRAM_AUTH.md) | –í—Å–µ | 2 –º–∏–Ω |
| [TELEGRAM_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md](./TELEGRAM_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md) | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | 5 –º–∏–Ω |
| [TELEGRAM_AUTH_QUICKSTART.md](./TELEGRAM_AUTH_QUICKSTART.md) | –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ | 10 –º–∏–Ω |
| [TELEGRAM_AUTH_COMMANDS.md](./TELEGRAM_AUTH_COMMANDS.md) | DevOps | 5 –º–∏–Ω |
| [TELEGRAM_AUTH_CHECKLIST.md](./TELEGRAM_AUTH_CHECKLIST.md) | –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏ | 5 –º–∏–Ω |
| [TELEGRAM_AUTH_INDEX.md](./TELEGRAM_AUTH_INDEX.md) | –í—Å–µ | 3 –º–∏–Ω |

## üîë –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–¢–æ–∫–µ–Ω –±–æ—Ç–∞:** `8584999235:AAGKcP0nhnn_B6G8iTa2Ti8U9oxUFByWfpo`
- **Username –±–æ—Ç–∞:** `@oko_expert_bot`
- **API Endpoint:** `POST /api/users/telegram_auth/`

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–¥ (5 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `apps/users/telegram_auth.py` - Backend –ª–æ–≥–∏–∫–∞
- ‚úÖ `apps/users/views.py` - API endpoint (–æ–±–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ `frontend-react/src/components/auth/TelegramLoginButton.tsx` - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ `frontend-react/src/pages/TelegramAuthExample.tsx` - –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ `test_telegram_auth.py` - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (10 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `TELEGRAM_AUTH_INDEX.md` - –ù–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ `TELEGRAM_AUTH_SUMMARY.md` - –†–µ–∑—é–º–µ
- ‚úÖ `TELEGRAM_AUTH_README.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `TELEGRAM_AUTH_SETUP.md` - –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ `TELEGRAM_AUTH_QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `TELEGRAM_AUTH_FLOW.md` - –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã
- ‚úÖ `TELEGRAM_AUTH_COMMANDS.md` - –ö–æ–º–∞–Ω–¥—ã
- ‚úÖ `TELEGRAM_AUTH_CHECKLIST.md` - –ß–µ–∫–ª–∏—Å—Ç
- ‚úÖ `TELEGRAM_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- ‚úÖ `START_TELEGRAM_AUTH.md` - –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (3 —Ñ–∞–π–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
- ‚úÖ `.env` - –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ `docker-compose.yml` - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ `config/settings.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –°–µ–π—á–∞—Å (5 –º–∏–Ω—É—Ç)
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ BotFather
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –ì–æ—Ç–æ–≤–æ! ‚úÖ

### –°–∫–æ—Ä–æ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞
- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–≤—è–∑–∫—É Telegram –∫ –∞–∫–∫–∞—É–Ω—Ç—É
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ HMAC-SHA256 –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤)
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è API
- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python test_telegram_auth.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
Invoke-WebRequest -Uri "http://localhost:8000/api/users/telegram_auth/" -Method OPTIONS

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª—è
docker-compose exec backend python manage.py shell -c "from apps.users.telegram_auth import verify_telegram_auth; print('OK')"
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 1.5 —á–∞—Å–∞
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~300
- **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~2500
- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 18
- **–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 5 –º–∏–Ω—É—Ç
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ 1 –∫–ª–∏–∫
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –ø–∞—Ä–æ–ª—å
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Telegram)
- ‚úÖ –ë—ã—Å—Ç—Ä–æ (3-5 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üéì –û–±—É—á–µ–Ω–∏–µ

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ: [START_TELEGRAM_AUTH.md](./START_TELEGRAM_AUTH.md)

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ: [TELEGRAM_AUTH_FLOW.md](./TELEGRAM_AUTH_FLOW.md)

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤
–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ: [TELEGRAM_AUTH_CHECKLIST.md](./TELEGRAM_AUTH_CHECKLIST.md)

### –î–ª—è DevOps
–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ: [TELEGRAM_AUTH_COMMANDS.md](./TELEGRAM_AUTH_COMMANDS.md)

## üöÄ –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –≤ BotFather
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS
3. –û–±–Ω–æ–≤–∏—Ç–µ ALLOWED_HOSTS
4. –û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ
6. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ! üéâ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [TELEGRAM_AUTH_CHECKLIST.md](./TELEGRAM_AUTH_CHECKLIST.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `docker-compose logs backend`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç: `python test_telegram_auth.py`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: [TELEGRAM_AUTH_INDEX.md](./TELEGRAM_AUTH_INDEX.md)

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [x] Backend —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Frontend —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞
- [x] –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] Docker –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ BotFather ‚Üê **–°–î–ï–õ–ê–ô–¢–ï –≠–¢–û!**
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Üê **–°–î–ï–õ–ê–ô–¢–ï –≠–¢–û!**

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ 2 —à–∞–≥–∞:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ –≤ BotFather (2 –º–∏–Ω—É—Ç—ã)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ (3 –º–∏–Ω—É—Ç—ã)

**–í—Ä–µ–º—è –¥–æ –∑–∞–ø—É—Å–∫–∞: 5 –º–∏–Ω—É—Ç!** ‚è±Ô∏è

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

**–ù–∞—á–Ω–∏—Ç–µ —Å:** [START_TELEGRAM_AUTH.md](./START_TELEGRAM_AUTH.md)
