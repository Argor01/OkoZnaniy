# üß™ –¢–µ—Å—Ç Telegram –∫–Ω–æ–ø–∫–∏

## –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `test_telegram_button.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
file:///–ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É/test_telegram_button.html
```

2. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Python:
```bash
python -m http.server 8080
```
–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:8080/test_telegram_button.html`

3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/login`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "Login with Telegram"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω?

–û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather):
```
/mybots
@oko_expert_bot
Bot Settings
Domain
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `localhost`

### 2. –ö–Ω–æ–ø–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å?

- ‚úÖ –î–∞ ‚Üí –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚ùå –ù–µ—Ç ‚Üí –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –≤ BotFather

### 3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Telegram?

- ‚úÖ –î–∞ ‚Üí –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –ù–µ—Ç ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

### 4. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç?

- ‚úÖ –î–∞ ‚Üí –û—Ç–ª–∏—á–Ω–æ!
- ‚ùå –ù–µ—Ç ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
[TelegramLoginButton] Initializing with botName: oko_expert_bot
[TelegramLoginButton] Widget script added to DOM
[TelegramLoginButton] Telegram widget script loaded successfully
```

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
```
[TelegramLoginButton] Telegram auth callback received: {...}
[TelegramLoginButton] Sending request to: http://localhost:8000/api/users/telegram_auth/
[TelegramLoginButton] Backend response: {...}
[TelegramLoginButton] Tokens saved, calling onAuth callback
```

## –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω

```
/setdomain
@oko_expert_bot
localhost
```

### –®–∞–≥ 2: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

1. Ctrl+Shift+Delete
2. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend

```bash
curl http://localhost:8000/api/users/telegram_auth/
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"detail":"Method \"GET\" not allowed."}`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend

```bash
docker-compose logs -f backend
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [TELEGRAM_DEBUG.md](./TELEGRAM_DEBUG.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
- [TELEGRAM_SETUP_BOTFATHER.md](./TELEGRAM_SETUP_BOTFATHER.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ BotFather
- [TELEGRAM_–ö–ù–û–ü–ö–ê_–ì–û–¢–û–í–ê.md](./TELEGRAM_–ö–ù–û–ü–ö–ê_–ì–û–¢–û–í–ê.md) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

**–¢–æ–∫–µ–Ω –±–æ—Ç–∞:** `8584999235:AAGKcP0nhnn_B6G8iTa2Ti8U9oxUFByWfpo`  
**Username –±–æ—Ç–∞:** `@oko_expert_bot`
