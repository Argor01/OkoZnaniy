# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–∞—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–∏—à—É—Ç –≤ "–¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É" —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–π —á–∞—Ç, —ç—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –û–±—ã—á–Ω—ã–µ —á–∞—Ç—ã (`Chat` –º–æ–¥–µ–ª—å) - –¥–ª—è –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ß–∞—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (`SupportRequest` –º–æ–¥–µ–ª—å) - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π API endpoint, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ —á–∞—Ç—ã —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. `apps/admin_panel/views.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `get_support_chats` –∏ `send_support_chat_message`
2. `apps/admin_panel/urls.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã URL-—ã –¥–ª—è –Ω–æ–≤—ã—Ö endpoints
3. `frontend-react/src/pages/AdminDashboard/hooks/useAdminPanelData.ts` - –¥–æ–±–∞–≤–ª–µ–Ω —Ö—É–∫ `useSupportChats`
4. `frontend-react/src/pages/AdminDashboard/index.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

### 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd ~/OkoZnaniy
```

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
git pull
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker-compose restart backend
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
docker-compose logs backend --tail=50
```

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl -H "Authorization: Bearer YOUR_ADMIN_TOKEN" http://localhost:8000/api/admin-panel/support-chats/
```

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. –ó–∞–π–¥–∏—Ç–µ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç/—ç–∫—Å–ø–µ—Ä—Ç
2. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ "–¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É"
3. –ó–∞–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "–ß–∞—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
5. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## API Endpoints

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —á–∞—Ç—ã —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
```
GET /api/admin-panel/support-chats/
```

–û—Ç–≤–µ—Ç:
```json
[
  {
    "id": 1,
    "client": {
      "id": 8,
      "username": "brait.2005",
      "first_name": "–ï–≥–æ—Ä",
      "last_name": "–ë—Ä–∞–π—Ç",
      "email": "brait.2005@gmail.com"
    },
    "admin": {
      "id": 6,
      "first_name": "–ê–Ω–Ω–∞",
      "last_name": "–ü–æ–¥–¥–µ—Ä–∂–∫–∏–Ω–∞",
      "role": "admin"
    },
    "status": "open",
    "priority": "medium",
    "subject": "–û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É",
    "messages": [
      {
        "id": 2,
        "text": "üö® –ü–†–ï–¢–ï–ù–ó–ò–Ø #2: –ó–∞–∫–∞–∑ –Ω–µ –æ–ø–ª–∞—á–µ–Ω\n\n123",
        "sender": {
          "id": 8,
          "first_name": "–ï–≥–æ—Ä",
          "last_name": "–ë—Ä–∞–π—Ç",
          "role": "client",
          "is_admin": false
        },
        "created_at": "2026-02-17T21:45:44.328186+03:00",
        "is_mine": false
      }
    ],
    "last_message": {
      "text": "üö® –ü–†–ï–¢–ï–ù–ó–ò–Ø #2: –ó–∞–∫–∞–∑ –Ω–µ –æ–ø–ª–∞—á–µ–Ω\n\n123",
      "created_at": "2026-02-17T21:45:44.328186+03:00"
    },
    "unread_count": 1,
    "created_at": "2026-02-17T21:45:44.328186+03:00",
    "updated_at": "2026-02-17T21:45:44.328186+03:00"
  }
]
```

### –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
```
POST /api/admin-panel/support-chats/{chat_id}/send-message/
```

Body:
```json
{
  "message": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤–∞—à—É –ø—Ä–µ—Ç–µ–Ω–∑–∏—é."
}
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Endpoint –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —á–∞—Ç—ã, –≥–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `SupportChatsSection`
