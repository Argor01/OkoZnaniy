# План реализации рабочего чата

## Этап 1: Backend (Django)

### 1.1 Модели
- `ChatRoom` - комната чата (для заказа)
- `ChatMessage` - сообщение в чате
- `ChatParticipant` - участники чата

### 1.2 WebSocket Consumer (Django Channels)
- Подключение к чату
- Отправка/получение сообщений
- Уведомления о печати
- Статус "прочитано"

### 1.3 REST API
- Получение истории сообщений
- Создание комнаты чата
- Загрузка файлов

## Этап 2: Frontend (React)

### 2.1 Компоненты
- `ChatWindow` - окно чата
- `MessageList` - список сообщений
- `MessageInput` - поле ввода
- `ChatNotification` - уведомления

### 2.2 WebSocket клиент
- Подключение к WebSocket
- Обработка событий
- Автопереподключение

## Этап 3: Интеграция

### 3.1 Привязка к заказам
- Чат создается автоматически при создании заказа
- Участники: заказчик + эксперт

### 3.2 Уведомления
- Push-уведомления о новых сообщениях
- Счетчик непрочитанных

## Технологии:
- Django Channels 4.x ✅ (уже установлен)
- Redis ✅ (уже есть)
- WebSocket
- React + TypeScript

## Начнем?
Создам минимальную рабочую версию чата за несколько шагов.
