# Структура кода проекта

## Принципы организации

1. **Модульность** - большие файлы разбиты на логические модули
2. **Переиспользуемость** - общие утилиты и хуки вынесены отдельно
3. **Типизация** - все типы в отдельных файлах
4. **Константы** - магические значения заменены на константы

## Структура директорий

```
src/
├── components/          # Переиспользуемые компоненты
│   ├── common/         # Общие компоненты (Header, Sidebar и т.д.)
│   ├── chat/           # Компоненты чата
│   ├── notifications/  # Компоненты уведомлений
│   └── modals/         # Модальные окна
│
├── pages/              # Страницы приложения
│   ├── ExpertDashboard/
│   │   ├── components/ # Компоненты страницы
│   │   ├── hooks/      # Хуки страницы
│   │   ├── utils/      # Утилиты страницы
│   │   ├── types.ts    # Типы страницы
│   │   ├── mockData.ts # Моковые данные
│   │   └── index.ts    # Экспорт модулей
│   └── ...
│
├── hooks/              # Глобальные хуки
│   ├── useResponsive.ts
│   └── index.ts
│
├── utils/              # Глобальные утилиты
│   ├── constants.ts    # Константы
│   ├── formatters.ts   # Форматирование данных
│   ├── validators.ts   # Валидация
│   └── index.ts
│
├── types/              # Глобальные типы
│   └── dashboard.ts
│
└── api/                # API клиенты
    ├── auth.ts
    ├── orders.ts
    └── ...
```

## Созданные модули

### 1. ExpertDashboard (разбит на модули)

**Было:** 1 файл ~5700 строк  
**Стало:** Модульная структура

- `types.ts` - типы данных
- `mockData.ts` - тестовые данные
- `hooks/useExpertData.ts` - хук для загрузки данных
- `components/ProfileHeader.tsx` - шапка профиля
- `components/ApplicationStatus.tsx` - статус анкеты
- `utils/helpers.ts` - вспомогательные функции

### 2. Глобальные утилиты

#### `utils/constants.ts`
Все константы приложения:
- Breakpoints для адаптивности
- Статусы заказов
- Роли пользователей
- Типы уведомлений

#### `utils/formatters.ts`
Функции форматирования:
- `formatCurrency()` - форматирование валюты
- `formatDate()` - форматирование даты
- `formatRelativeTime()` - относительное время
- `formatUserName()` - имя пользователя
- `formatFileSize()` - размер файла

#### `utils/validators.ts`
Функции валидации:
- `isValidEmail()` - проверка email
- `isValidPhone()` - проверка телефона
- `isValidPassword()` - проверка пароля
- `isEmpty()` - проверка на пустоту

### 3. Глобальные хуки

#### `hooks/useResponsive.ts`
Хук для определения размера экрана:
```tsx
const { isMobile, isTablet, isDesktop, width } = useResponsive();
```

## Как использовать

### Импорт утилит
```tsx
import { formatCurrency, formatDate, ORDER_STATUSES } from '@/utils';
```

### Импорт хуков
```tsx
import { useResponsive } from '@/hooks';
```

### Импорт модулей ExpertDashboard
```tsx
import { ProfileHeader, ApplicationStatus, useExpertData } from '@/pages/ExpertDashboard';
```

## Преимущества новой структуры

✅ **Читаемость** - файлы меньше 300 строк  
✅ **Поддержка** - легко найти нужный код  
✅ **Тестирование** - каждый модуль можно тестировать отдельно  
✅ **Переиспользование** - утилиты доступны везде  
✅ **Типизация** - все типы в одном месте  
✅ **Производительность** - tree-shaking работает лучше

## Рекомендации

1. **Размер файла** - не более 300-400 строк
2. **Один файл - одна ответственность**
3. **Общие утилиты** - выносить в `utils/`
4. **Общие хуки** - выносить в `hooks/`
5. **Типы** - выносить в отдельные файлы
6. **Константы** - не использовать магические значения

## Следующие шаги

1. Разбить остальные большие файлы:
   - ShopReadyWorks.tsx (77 КБ)
   - AddWorkToShop.tsx (69 КБ)
   - PurchasedWorks.tsx (69 КБ)
   - AdminDashboard.tsx (66 КБ)

2. Создать общие компоненты:
   - OrderCard
   - UserCard
   - StatisticsCard

3. Добавить unit-тесты для утилит
