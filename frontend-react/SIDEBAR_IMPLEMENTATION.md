# Реализация универсального сайдбара

## Что сделано

Создан универсальный компонент `DashboardLayout` с сайдбаром, который автоматически показывается для всех авторизованных пользователей.

### Файлы

1. **`frontend-react/src/components/layout/DashboardLayout.tsx`** - Основной компонент layout с сайдбаром
2. **`frontend-react/src/components/layout/DashboardLayout.module.css`** - Стили для layout
3. **`frontend-react/src/components/layout/index.ts`** - Экспорт компонента

### Функциональность

#### Для клиентов:
- Мои заказы
- Создать заказ
- FAQ
- Выйти

#### Для экспертов:
- Дашборд эксперта
- Сообщения
- Уведомления
- Арбитраж
- Счет (с реальным балансом из БД)
- Мои работы
- Авторский магазин (с подменю)
- Мои друзья
- Избранное
- Бонусы
- Платные услуги
- FAQ
- Выйти

### Данные из БД

Сайдбар получает следующие данные из базы данных:

1. **Профиль пользователя** (`authApi.getCurrentUser()`):
   - Имя пользователя
   - Email
   - Роль (client/expert)
   - Аватар
   - Баланс

2. **Статистика заказов** (`ordersApi.getClientOrders()` / `ordersApi.getMyOrders()`):
   - Общее количество заказов
   - Количество по статусам (новые, в работе, завершенные и т.д.)

### Интеграция

Layout интегрирован на уровне роутинга в `App.tsx` для следующих страниц:
- `/create-order` - Создание заказа
- `/shop/ready-works` - Магазин готовых работ
- `/shop/add-work` - Добавление работы в магазин
- `/works` - Мои работы
- `/shop/purchased` - Купленные работы

**Важно:** 
- ExpertDashboard (`/expert`) имеет свой собственный layout с расширенным функционалом
- Все пользователи (клиенты и эксперты) перенаправляются на `/expert` после авторизации
- ClientDashboard больше не используется

### Использование

Layout применяется на уровне роутинга в `App.tsx`:

```tsx
<Route 
  path="/your-page" 
  element={
    <ProtectedRoute>
      <DashboardLayout>
        <YourPage />
      </DashboardLayout>
    </ProtectedRoute>
  } 
/>
```

Страница должна управлять своим собственным padding и стилями.

### Особенности

- Сайдбар сворачивается/разворачивается
- Автоматически определяет роль пользователя и показывает соответствующее меню
- Подсвечивает активный пункт меню на основе текущего URL
- Показывает реальный баланс из БД
- Показывает количество заказов по статусам

### Что нужно добавить в будущем

1. API для получения:
   - Количества непрочитанных сообщений
   - Количества уведомлений
   - Количества активных споров
   - Списка друзей
   - Избранного

2. Модальные окна для:
   - Сообщений
   - Уведомлений
   - Арбитража
   - Финансов
   - FAQ

3. Интеграция layout в остальные страницы:
   - ExpertDashboard (опционально, т.к. у него свой сложный layout)
   - Другие защищенные страницы
